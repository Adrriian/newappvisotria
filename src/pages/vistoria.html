<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vistoria Veicular</title>
<link rel="stylesheet" href="../css/vistoria.css">
</head>
<body>

<div class="container">

  <!-- MODAL OVERLAY (andar 2) -->
<div id="modal-overlay" class="modal-overlay" style="display:flex;">

    <!-- Modal conteúdo central -->
    <div class="modal-content" id="instruction">
      <div class="modal-instrucoes">
        <h2>Instruções para tirar as fotos</h2>
        <p>As fotos precisam ser tiradas com o celular deitado e não em pé<br>(pode deitar o celular quando for tirar a foto).</p>
        <div class="img-instrucoes">
          <div class="img-details">
            <p>Correto</p>
            <!--<a href="fotossite.html">site de fotos</a>-->
            <img src="../images/imgvistoria/CORRETO.png" alt="Correto">
          </div>
          <div class="img-details2">
            <p>Errado</p>
            <img src="../images/imgvistoria/ERRADO.png" alt="Errado">
          </div>
        </div>
        <button id="btn-fazer-vistoria">Fazer Vistoria</button>
      </div>
    </div>

    <!-- Modal Tipo de Veículo -->
    <div class="modal-content" id="modal-veiculo">
      <div class="selectcar">
        <h2>Escolha o tipo de veículo</h2>
        <div class="opcoes-veiculo">
          <button data-veiculo="carro">Carro</button>
          <button data-veiculo="moto">Moto</button>
          <!--<button data-veiculo="caminhao">Caminhão</button>-->
        </div>
      </div>
    </div>

    <!-- Modal Modo de Fotos -->
    <div class="modal-content" id="modal-modo-fotos">
      <div class="selectop">
          <h2>Escolha o modo de fotos</h2>
          <div class="opcoes2">
             <button id="btn-todas">Tirar todas as fotos</button>
            <button id="btn-especifica">Tirar foto específica</button>
          </div>
      </div>
    </div>

  <!-- Modal Fotos Específicas -->
<div class="modal-content" id="modal-fotos-especificas">
  <div class="escolha_fotos">
    <h2>Escolha a(s) foto(s) que deseja tirar</h2>
    <button id="btn-iniciar-especifica">Iniciar Vistoria</button>
    <div id="lista-fotos-especificas" class="lista-fotos">
      <label><input type="checkbox" value="frente"> Frente</label><br>
      <label><input type="checkbox" value="traseira"> Traseira</label><br>
      <label><input type="checkbox" value="chassi"> Chassi</label><br>
      <label><input type="checkbox" value="interior"> Interior</label><br>
      <label><input type="checkbox" value="motor"> Motor</label><br>
    </div>
  </div>
</div>


    <!-- Modal Foto individual -->
    <div class="modal-content" id="modal-foto">
      <div class="modal-refente">
        <h2 id="titulo-foto">Frente</h2>
        <img class="ft_rf" id="referencia-img" src="placeholder.png" alt="Foto de referência">
        <button id="ir-camera">Ir para câmera</button>
      </div>
    </div>

    <!-- Modal Resultado -->
    <div class="modal-content" id="modal-resultado">
      <div class="result">
        <h2>Resultado</h2>
        <div class="fotos-comparacao">
          <div class="foto-box">
            <h3>Foto de referência</h3>
            <img class="ft_rf" id="foto-referencia" src="placeholder.png" alt="Referência">
          </div>
          <div class="foto-box">
            <h3>Sua foto</h3>
            <img id="foto-tirada" alt="Sua foto">
          </div>
        </div>
        <div class="botoes-resultado">
          <button id="refazer">Refazer Foto</button>
          <button id="proxima">Próxima Foto</button>
        </div>
      </div>
    </div>
    <div id="modal-loading" class="modal">
  <div class="loading-box">
    <div class="loading-circle"></div>
    <p>Enviando fotos...</p>
  </div>
</div>

  </div>
  
  <!-- CAMADA 1: Câmera e botão (andar 1) -->
  <div id="camera-container">
    <video id="video" autoplay playsinline></video>
    <button id="tirar-foto">Tirar Foto</button>
  </div>

</div>

<!-- Firebase App -->
<script src="https://www.gstatic.com/firebasejs/10.3.0/firebase-app-compat.js"></script>
<!-- Auth -->
<script src="https://www.gstatic.com/firebasejs/10.3.0/firebase-auth-compat.js"></script>
<!-- Firestore -->
<script src="https://www.gstatic.com/firebasejs/10.3.0/firebase-firestore-compat.js"></script>

<script src="../js/vistoria.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
</body>
</html>
